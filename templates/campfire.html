{% extends "base.html" %}

{% block page_settings %}
  {% set container_class = 'is-cozy' %}
{% endblock %}

{% block content %}
<div class="auth-shell auth-shell--center">
  <section class="auth-card auth-card--narrow">
    <h2>Campfire username</h2>
    <p>Since you are <strong>13 or older</strong>, link your Campfire username so we can connect your check-ins and reward history.</p>

    <form action="{{ url_for('campfire') }}" method="post" class="auth-form auth-form--compact">
      <label class="auth-label" for="campfire_username">Campfire username</label>
      <input id="campfire_username"
             class="auth-input"
             type="text"
             name="campfire_username"
             placeholder="e.g. Trainer123"
             pattern="[^@]+"
             title="Enter your Campfire username without the @ symbol."
             required
             oninput="this.value = this.value.replace(/@/g, '')">
      <p style="font-size:0.8rem; color:#64748b; margin:4px 0 0;">Enter your Campfire username without the @ symbol.</p>

      <button type="submit" class="auth-btn auth-btn--primary auth-btn--full">Finish signup</button>
    </form>

    <div class="auth-tip">
      ðŸ”¥ Donâ€™t have Campfire yet? Download it from your app store and create a username â€“ you can link it later with the Manage Account tools.
    </div>

    <div class="auth-links">
      <a href="{{ url_for('age') }}" class="auth-btn auth-btn--ghost">â¬… Back</a>
    </div>
  </section>
</div>

<style>
.auth-shell--center{align-items:center;}
.auth-card--narrow{text-align:center;gap:18px;}
.auth-card--narrow p{margin:0;}
.auth-form--compact{max-width:340px;margin:0 auto;}
</style>
{% endblock %}
